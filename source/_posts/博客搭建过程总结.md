---
title: 博客搭建过程总结
date: 2016-05-31 17:59:12
categories: node
tags: [hexo,node]
thumbnailImage: http://d1u9biwaxjngwg.cloudfront.net/cover-image-showcase/city-750.jpg
thumbnailImagePosition: right
autoThumbnailImage: yes
coverImage: http://d1u9biwaxjngwg.cloudfront.net/cover-image-showcase/city.jpg
coverCaption: "A beautiful sunrise"
metaAlignment: center
coverMeta: out
---


博客采用的是 `node` 的一个模块 `hexo`
换用皮肤 `tranquilpeak`
现在把搭建过程总结下

<!-- excerpt -->

### 1 版本说明
```
node v5.3.0

npm 3.3.12

hexo 3.2.0

hexo-cli 1.0.1

tranquilpeak 1.6.2 编译过的


```

**说明** 之前安装hexo是可以跑起来 但是 tranquilpeak 这个皮肤是不能的
github上面的issue 看了下 皮肤作者给 hexo 提的issue中指出 'is_remote_url' 这个方法
在 3.2.* 版本找不到 导致他的模版报错 提倡大家将版本降到 3.1.* 

但是我在3.1.* 中依然是不能正常使用的 并且 3.1.* 版本使用并不方便 最后还是用的 3.2.*

tranquilpeak 这个模版 编译过的 我这边只有 1.6.0 这个可以在hexo 3.2.0 中正常使用

### 2 安装过程

node npm 的安装略过 ...

安装 hexo 以及 hexo-cli

```
npm install hexo -g
npm install hexo-cli -g
```

皮肤下载地址 [tranquilpeak](https://github.com/LouisBarranqueiro/hexo-theme-tranquilpeak/releases/download/v1.6.2/hexo-theme-tranquilpeak-built-for-production-1.6.2.zip)

> 作者是在 mac 下开发的 源码里面有一些mac生成的文件没有去除干净


```
mkdir blog
cd blog
hexo init
```

安装完成 在 themes 里面增加 皮肤 并将文件夹名字改成 `tranquilpeak` 便于后面进行配置

配置文件修改


blog/_config.yml

```
    theme: tranquilpeak # 指定模版
    post_asset_folder: true # 开启对文章图片封面的支持
    language: zh-cn # 指定语言
```


### 3 hexo 常用命令

```
hexo clean  清除生成的静态文件
hexo g  生成静态文件到 blog/public 目录
hexo s  启动服务 127.0.0.1:4000
```


### 4 生成项目

当执行 hexo g 生成文件的时候有一个错误


```
    ERROR Process failed: source/_css/layout/_about.scss
    TypeError: Cannot read property 'compile' of undefined
```

这个bug正是 hexo 与 tranquilpeak 之间版本不兼容导致的

tranquilpeak 中的source文件夹下 下划线开头的文件是源文件 , hexo 不应该在生成静态文件的时候读
这些文件的, 但是在 hexo 版本升级后就会发生这样的事情

给人的整个感觉是 npm 包之间的依赖 并不稳定. 一个包里面的api竟然会在版本升级的时候给干掉 ....

上面的问题解决办法就是删除 模版的source 文件夹下 `_` 开头的目录

然后 
```
hexo clean
hexo g
hexo s
```
已经初步搭建成功

### 5 更好的使用

皮肤里面的各个配置 github 上更清晰 (User Document)[https://github.com/LouisBarranqueiro/hexo-theme-tranquilpeak/blob/master/docs/user.md]

开启  categories tags archives 等页面


创建新的文章
```
hexo new "文章名称"
```

文章开始部分 
```
    ---
    title: 博客搭建过程总结
    date: 2016-05-31 17:59:12
    categories: node
    tags: [hexo,node]
    ---
```

是文章信息的描述

categories 是分类 tags 是标签

想要创建多个分类或者标签可以这样

```
tags: [tag1,tag2,tag3.....]
```

### 6 最后一些markdown

##### 列表
---
有序
```
1. item1
2. item2
3. item3
```
1. item1
2. item2
3. item3

无序
```
* item
* item
* item
```
* item
* item
* item


#### 表格
---
```
|id|name|ext|
|---|---|---|
|1|fanyilong|test|
|2|fantasy|nothing|
|3|fantiq|github|
```
|id|name|ext|
|---|---|---|
|1|fanyilong|test|
|2|fantasy|nothing|
|3|fantiq|github|

#### 代码
---
代码块


```
<?php
class test
{
    public function __construct()
    {
        echo "test";
    }
}
```

代码片段

`php artisan queue:work --daemon`

引用
```
> ABAB 上下上下 -- 沃兹基舒德
```

> ABAB 上下上下 -- 沃兹基舒德

#### 格式
---
```
*斜体*
**加粗** 
~~删除~~ 
```

*斜体*
**加粗** 
~~删除~~ 

下划线

```
---
```
---

链接 
```
[百度](http://www.baidu.com)
```
[百度](http://www.baidu.com)

图片
```
![头像](/assets/images/avatar.jpg)
```
![头像](/assets/images/avatar.jpg)

