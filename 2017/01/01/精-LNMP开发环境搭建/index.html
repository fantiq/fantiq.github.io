
<!DOCTYPE html>
<html lang="zh-cn">
    
<head>
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="代码狗的狗窝">
    <title>[精]LNMP开发环境搭建 - 代码狗的狗窝</title>
    <meta name="author" content="fantiq">
    
    
    
    <meta name="description" content="vagrant与dockervagrant 是一个对虚拟机的管理工具，方便搭建、移植自己的linux开发环境docker 是一种容器技术，每个服务(php-fpm mysql redis) 适合做成一个docker容器，方便本地模拟分布式开发环境换，保持开发环境与生产环境的高度一致
vagrant制作与使用docker的制作与使用">
<meta property="og:type" content="blog">
<meta property="og:title" content="[精]LNMP开发环境搭建">
<meta property="og:url" content="/2017/01/01/精-LNMP开发环境搭建/index.html">
<meta property="og:site_name" content="代码狗的狗窝">
<meta property="og:description" content="vagrant与dockervagrant 是一个对虚拟机的管理工具，方便搭建、移植自己的linux开发环境docker 是一种容器技术，每个服务(php-fpm mysql redis) 适合做成一个docker容器，方便本地模拟分布式开发环境换，保持开发环境与生产环境的高度一致
vagrant制作与使用docker的制作与使用">
<meta property="og:updated_time" content="2018-04-08T13:39:57.876Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="[精]LNMP开发环境搭建">
<meta name="twitter:description" content="vagrant与dockervagrant 是一个对虚拟机的管理工具，方便搭建、移植自己的linux开发环境docker 是一种容器技术，每个服务(php-fpm mysql redis) 适合做成一个docker容器，方便本地模拟分布式开发环境换，保持开发环境与生产环境的高度一致
vagrant制作与使用docker的制作与使用">
    
    
        
    
    
        <meta property="og:image" content="/assets/images/avatar.jpg"/>
    
    
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/style-ejlztp1tasruqfvoz6xmgqng0anzae8ox7cqjj5yibieqgcmhe9fwxfae6zj.min.css">
    <!--STYLES END-->
    
    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="3">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <h1 class="header-title">
        <a class="header-title-link" href="/ ">代码狗的狗窝</a>
    </h1>
    
        
            <a  class="header-right-picture "
                href="#about">
        
        
            <img class="header-picture" src="/assets/images/avatar.jpg"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="3">
    
        <div class="sidebar-profile">
            <a href="/#about">
                    <img class="sidebar-profile-picture" src="/assets/images/avatar.jpg"/>
            </a>
            <span class="sidebar-profile-name">fantiq</span>
        </div>
    
    
        <ul class="sidebar-buttons">
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/ "
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-home"></i>
                    <span class="sidebar-button-desc">首页</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/all-categories"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
                    <span class="sidebar-button-desc">分类</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/all-tags"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
                    <span class="sidebar-button-desc">标签</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="/all-archives"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
                    <span class="sidebar-button-desc">归档</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link st-search-show-outputs"
                         href="#search"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-search"></i>
                    <span class="sidebar-button-desc">搜索</span>
                </a>
        </li>
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="#about"
                        
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-question"></i>
                    <span class="sidebar-button-desc">关于</span>
                </a>
        </li>
        
    </ul>
    
        <ul class="sidebar-buttons">
        
            <li class="sidebar-button">
                
                    <a  class="sidebar-button-link "
                         href="https://github.com/fantiq"
                    >
                
                    <i class="sidebar-button-icon fa fa-lg fa-github"></i>
                    <span class="sidebar-button-desc">GitHub</span>
                </a>
        </li>
        
    </ul>
    
</nav>

            
            <div id="main" data-behavior="3"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post" itemscope itemType="http://schema.org/BlogPosting">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title" itemprop="headline">
            [精]LNMP开发环境搭建
        </h1>
    
    <div class="post-meta">
    <time itemprop="datePublished" content="Sun Jan 01 2017 21:22:08 GMT+0800">
	
		    1月 01, 2017
    	
    </time>
    
</div>
</div>
    
    <div class="post-content markdown" itemprop="articleBody">
        <div class="main-content-wrap">
            <p>vagrant与docker<br>vagrant 是一个对虚拟机的管理工具，方便搭建、移植自己的linux开发环境<br>docker 是一种容器技术，每个服务(php-fpm mysql redis) 适合做成一个docker容器，方便本地模拟分布式开发环境换，保持开发环境与生产环境的高度一致</p>
<p><a href="">vagrant制作与使用</a><br><a href="">docker的制作与使用</a><br><a id="more"></a></p>
<p>搭建本地开发环境</p>
<h2 id="1-系统安装-centos6-8"><a href="#1-系统安装-centos6-8" class="headerlink" title="1. 系统安装(centos6.8)"></a>1. 系统安装(centos6.8)</h2><h4 id="1-1-最小化安装centos系统"><a href="#1-1-最小化安装centos系统" class="headerlink" title="1.1 最小化安装centos系统"></a>1.1 最小化安装centos系统</h4><h4 id="1-2-调整网络为自动分配-DHCP"><a href="#1-2-调整网络为自动分配-DHCP" class="headerlink" title="1.2 调整网络为自动分配(DHCP)"></a>1.2 调整网络为自动分配(DHCP)</h4><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># 编辑网卡配置文件</span></span><br><span class="line">vi /etc/sysconfig/network-scripts/ifcfg-eth0</span><br><span class="line"><span class="meta"># 修改此项</span></span><br><span class="line">ONBOOT=no</span><br><span class="line"><span class="meta"># 修改为</span></span><br><span class="line">ONBOOT=yes</span><br><span class="line"><span class="meta"># 重启网卡</span></span><br><span class="line">service network restart</span><br><span class="line"><span class="meta"># 可以ping同域名则 网络修改成功</span></span><br><span class="line">ping www.baidu.com</span><br></pre></td></tr></table></figure>
<h4 id="1-3-分配网络为NAT-virtualbox网络类型区别"><a href="#1-3-分配网络为NAT-virtualbox网络类型区别" class="headerlink" title="1.3 分配网络为NAT virtualbox网络类型区别"></a>1.3 分配网络为NAT <a href="">virtualbox网络类型区别</a></h4><p>修改<code>virtualbox : 设置 -&gt; 网络</code> 选择NAT<br>选择<code>端口转发</code>并添加一个映射规则<br><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看宿主机ip(eth0)</span></span><br><span class="line">ip <span class="keyword">a</span></span><br></pre></td></tr></table></figure></p>
<p>添加规则如下</p>
<table>
<thead>
<tr>
<th>名称</th>
<th>协议</th>
<th>主机ip</th>
<th>主机端口</th>
<th>子系统ip</th>
<th>子系统端口</th>
</tr>
</thead>
<tbody>
<tr>
<td>ssh</td>
<td>TCP</td>
<td>127.0.0.1</td>
<td>22</td>
<td>10.0.2.15</td>
<td>22</td>
</tr>
</tbody>
</table>
<blockquote>
<p>通过TCP协议将宿主机的 127.0.0.1 22端口的请求转发到 10.0.2.15的22端口。此时可以通过ssh工具连接虚拟机了</p>
</blockquote>
<h2 id="2-更换yum源为epel"><a href="#2-更换yum源为epel" class="headerlink" title="2. 更换yum源为epel"></a>2. 更换yum源为epel</h2><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rpm -Uvh <span class="string">http:</span><span class="comment">//mirrors.kernel.org/fedora-epel/6/i386/epel-release-6-8.noarch.rpm</span></span><br><span class="line">yum repolist</span><br></pre></td></tr></table></figure>
<h2 id="3-安装增强工具-为vagrant做准备"><a href="#3-安装增强工具-为vagrant做准备" class="headerlink" title="3. 安装增强工具 为vagrant做准备"></a>3. 安装增强工具 为vagrant做准备</h2><p>安装增强工具前需要先安装依赖包 并更新更新 yum源 并重启<br><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># 安装依赖包</span></span><br><span class="line">yum -y install bzip2 make automake gcc gcc-c++ kernel-devel kernel-headers</span><br><span class="line"><span class="meta"># 更新yum包</span></span><br><span class="line">yum update</span><br><span class="line"><span class="meta"># 重启</span></span><br><span class="line">reboot</span><br></pre></td></tr></table></figure></p>
<p>安装增强工具<br><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#挂载增强工具盘</span></span><br><span class="line">设备-&gt; 安装增强工具</span><br><span class="line"><span class="meta">#挂载硬盘</span></span><br><span class="line">mkdir <span class="meta-keyword">/mnt/</span>cdrom</span><br><span class="line">mount -t auto -o ro <span class="meta-keyword">/dev/</span>cdrom <span class="meta-keyword">/mnt/</span>cdrom</span><br><span class="line"><span class="meta"># 执行</span></span><br><span class="line">cd <span class="meta-keyword">/mnt/</span>cdrom</span><br><span class="line">./VBoxLinuxAdditions.run</span><br></pre></td></tr></table></figure></p>
<p>如遇到错误提示<br><figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Could <span class="keyword">not</span> find the X.Org <span class="keyword">or</span> XFree86 <span class="built_in">Window</span> <span class="keyword">System</span>, skipping</span><br></pre></td></tr></table></figure></p>
<p>属于正常，因为我们没有安装GUI</p>
<h2 id="4-基础服务安装"><a href="#4-基础服务安装" class="headerlink" title="4. 基础服务安装"></a>4. 基础服务安装</h2><p>创建下载源代码的目录 安装下载工具<code>wget</code><br><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">yum install -y wget</span><br><span class="line"><span class="built_in">cd</span> ~</span><br><span class="line"><span class="built_in">mkdir</span> src</span><br><span class="line"><span class="built_in">cd</span> src</span><br></pre></td></tr></table></figure></p>
<h4 id="4-1-nginx"><a href="#4-1-nginx" class="headerlink" title="4.1 nginx"></a>4.1 nginx</h4><p>下载并解压<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget https:<span class="comment">//nginx.org/download/nginx-1.10.1.tar.gz</span></span><br><span class="line">tar -zxvf nginx-<span class="number">1.10</span>.<span class="number">1</span><span class="selector-class">.tar</span><span class="selector-class">.gz</span></span><br></pre></td></tr></table></figure></p>
<p>安装依赖包<br><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y <span class="keyword">install</span> gcc autoconf automake zlib zlib-devel openssl openssl-devel pcre-devel</span><br></pre></td></tr></table></figure></p>
<p>编译安装<br><figure class="highlight haml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">cd nginx-1.10.1</span><br><span class="line"></span><br><span class="line">./configure \</span><br><span class="line">-<span class="ruby">-prefix=<span class="regexp">/usr/local</span><span class="regexp">/nginx \</span><br><span class="line"></span></span>-<span class="ruby"><span class="regexp">-sbin-path=/usr</span><span class="regexp">/local/nginx</span><span class="regexp">/sbin/nginx</span> \</span><br><span class="line"></span>-<span class="ruby">-conf-path=<span class="regexp">/usr/local</span><span class="regexp">/nginx/conf</span><span class="regexp">/nginx.conf \</span><br><span class="line"></span></span>-<span class="ruby"><span class="regexp">-error-log-path=/var</span><span class="regexp">/log/nginx</span><span class="regexp">/error.log \</span><br><span class="line"></span></span>-<span class="ruby"><span class="regexp">-pid-path=/var</span><span class="regexp">/run/nginx</span><span class="regexp">/nginx.pid \</span><br><span class="line"></span></span>-<span class="ruby"><span class="regexp">-user=nginx \</span><br><span class="line"></span></span>-<span class="ruby"><span class="regexp">-group=nginx \</span><br><span class="line"></span></span>-<span class="ruby"><span class="regexp">-with-http_ssl_module \</span><br><span class="line"></span></span>-<span class="ruby"><span class="regexp">-with-http_flv_module \</span><br><span class="line"></span></span>-<span class="ruby"><span class="regexp">-with-http_gzip_static_module \</span><br><span class="line"></span></span>-<span class="ruby"><span class="regexp">-http-log-path=/var</span><span class="regexp">/log/nginx</span><span class="regexp">/access.log \</span><br><span class="line"></span></span>-<span class="ruby"><span class="regexp">-http-client-body-temp-path=/var</span><span class="regexp">/tmp/nginx</span><span class="regexp">/client \</span><br><span class="line"></span></span>-<span class="ruby"><span class="regexp">-http-proxy-temp-path=/var</span><span class="regexp">/tmp/nginx</span><span class="regexp">/proxy \</span><br><span class="line"></span></span>-<span class="ruby"><span class="regexp">-http-fastcgi-temp-path=/var</span><span class="regexp">/tmp/nginx</span><span class="regexp">/fcgi \</span><br><span class="line"></span></span>-<span class="ruby"><span class="regexp">-with-http_stub_status_module</span><br><span class="line"></span></span></span><br><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure></p>
<p>启动服务<br><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># 添加nginx运行用户以及对应用户组</span></span><br><span class="line">groupadd -r nginx </span><br><span class="line">useradd -s <span class="meta-keyword">/sbin/</span>nologin -g nginx -r nginx</span><br><span class="line"><span class="meta"># 启动服务</span></span><br><span class="line"><span class="meta-keyword">/usr/</span>local<span class="meta-keyword">/nginx/</span>sbin/nginx -c <span class="meta-keyword">/usr/</span>local<span class="meta-keyword">/nginx/</span>conf/nginx.conf</span><br></pre></td></tr></table></figure></p>
<p>启动过程中遇到错误<br><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">nginx: [emerg] <span class="built_in">mkdir</span>() <span class="string">"/var/tmp/nginx/client"</span> failed (<span class="number">2</span>: No such file <span class="keyword">or</span> <span class="built_in">directory</span>)</span><br><span class="line"># 创建对应的目录</span><br><span class="line"><span class="built_in">mkdir</span> -p /<span class="built_in">var</span>/tmp/nginx/client</span><br></pre></td></tr></table></figure></p>
<h4 id="4-2-node"><a href="#4-2-node" class="headerlink" title="4.2 node"></a>4.2 node</h4><p>下载并解压<br><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 下载文件</span></span><br><span class="line">wget https://nodejs.org/dist/v6.<span class="number">9.2</span>/<span class="keyword">node</span><span class="title">-v6</span>.<span class="number">9.2</span>-linux-x64.tar.xz</span><br><span class="line"><span class="comment"># 下载解压工具</span></span><br><span class="line">yum -y install xz</span><br><span class="line"><span class="comment"># 解压</span></span><br><span class="line">xz -d <span class="keyword">node</span><span class="title">-v6</span>.<span class="number">9.2</span>-linux-x64.tar.xz</span><br><span class="line"><span class="keyword">tag</span> <span class="title">-xvf</span> <span class="keyword">node</span><span class="title">-v6</span>.<span class="number">9.2</span>-linux-x64.tar.xz</span><br></pre></td></tr></table></figure></p>
<p>安装(这里下载的是编译好的文件 可以直接使用)<br><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 移动文件</span></span><br><span class="line">mv <span class="keyword">node</span><span class="title">-v6</span>.<span class="number">9.2</span>-linux-x64 /usr/local/<span class="keyword">node</span></span><br><span class="line"><span class="title"># 创建软链接</span><br><span class="line">ln</span> -s /usr/local/<span class="keyword">node</span><span class="title">/bin</span>/<span class="keyword">node</span> <span class="title">/usr</span>/local/bin/<span class="keyword">node</span></span><br><span class="line"><span class="title">ln</span> -s /usr/local/<span class="keyword">node</span><span class="title">/bin</span>/npm  /usr/local/bin/npm</span><br><span class="line"><span class="comment"># 查看版本</span></span><br><span class="line"><span class="keyword">node</span> <span class="title">-v</span></span><br><span class="line">npm -v</span><br></pre></td></tr></table></figure></p>
<h4 id="4-3-mysql"><a href="#4-3-mysql" class="headerlink" title="4.3 mysql"></a>4.3 mysql</h4><p>下载并解压<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget http:<span class="comment">//dev.mysql.com/get/Downloads/MySQL-5.7/mysql-5.7.14.tar.gz</span></span><br><span class="line">tar -zxvf mysql-<span class="number">5.7</span>.<span class="number">14</span><span class="selector-class">.tar</span><span class="selector-class">.gz</span></span><br></pre></td></tr></table></figure></p>
<p>安装依赖包<br><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">yum</span> -y install gcc gcc-c++ ncurses-devel cmake <span class="keyword">bison</span><br><span class="line"></span># 下载<span class="keyword">boost</span><br><span class="line"></span><span class="symbol">wget</span> https://sourceforge.net/projects/<span class="keyword">boost/files/boost/1.59.0/boost_1_59_0.tar.gz</span><br><span class="line"></span><span class="symbol">tar</span> -zxvf <span class="keyword">boost_1_59_0.tar.gz</span><br><span class="line"></span><span class="symbol">mv</span> <span class="keyword">boost_1_59_0 </span>/usr/local/<span class="keyword">boost</span></span><br></pre></td></tr></table></figure></p>
<p>编译安装<br><figure class="highlight haml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">cd mysql-5.7.14</span><br><span class="line"></span><br><span class="line">cmake . \</span><br><span class="line">-<span class="ruby">DCMAKE_INSTALL_PREFIX=<span class="regexp">/usr/local</span><span class="regexp">/mysql \</span><br><span class="line"></span></span>-<span class="ruby"><span class="regexp">DMYSQL_DATADIR=/usr</span><span class="regexp">/local/mysql</span><span class="regexp">/data \</span><br><span class="line"></span></span>-<span class="ruby"><span class="regexp">DDEFAULT_CHARSET=utf8 \</span><br><span class="line"></span></span>-<span class="ruby"><span class="regexp">DDEFAULT_COLLATION=utf8_general_ci \</span><br><span class="line"></span></span>-<span class="ruby"><span class="regexp">DMYSQL_TCP_PORT=3306 \</span><br><span class="line"></span></span>-<span class="ruby"><span class="regexp">DMYSQL_USER=mysql \</span><br><span class="line"></span></span>-<span class="ruby"><span class="regexp">DWITH_MYISAM_STORAGE_ENGINE=1 \</span><br><span class="line"></span></span>-<span class="ruby"><span class="regexp">DWITH_INNOBASE_STORAGE_ENGINE=1 \</span><br><span class="line"></span></span>-<span class="ruby"><span class="regexp">DWITH_ARCHIVE_STORAGE_ENGINE=1 \</span><br><span class="line"></span></span>-<span class="ruby"><span class="regexp">DWITH_BLACKHOLE_STORAGE_ENGINE=1 \</span><br><span class="line"></span></span>-<span class="ruby"><span class="regexp">DWITH_MEMORY_STORAGE_ENGINE=1 \</span><br><span class="line"></span></span>-<span class="ruby"><span class="regexp">DDOWNLOAD_BOOST=1 \</span><br><span class="line"></span></span>-<span class="ruby"><span class="regexp">DWITH_BOOST=/usr</span><span class="regexp">/local/boost</span></span><br><span class="line"></span></span><br><span class="line">make &amp;&amp; make install</span><br><span class="line"># 编译错误 需要清理make文件</span><br><span class="line">rm -f CMakeCache.txt</span><br><span class="line">make clean</span><br></pre></td></tr></table></figure></p>
<p>创建mysql执行用户<br><figure class="highlight cos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">groupadd -<span class="keyword">r</span> mysql</span><br><span class="line">useradd -<span class="keyword">s</span> /sbin/nologin -g mysql -<span class="keyword">r</span> mysql</span><br></pre></td></tr></table></figure></p>
<p>初始化mysql<br><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建数据库文件存储目录</span></span><br><span class="line">mkdir -p /var/<span class="class"><span class="keyword">lib</span>/<span class="title">mysql</span></span></span><br><span class="line"><span class="comment"># 赋予权限</span></span><br><span class="line">chown -R <span class="symbol">mysql:</span>mysql /var/<span class="class"><span class="keyword">lib</span>/<span class="title">mysql</span></span></span><br><span class="line"><span class="comment"># 初始化配置</span></span><br><span class="line">/usr/local/mysql/bin/mysqld \</span><br><span class="line">--initialize-insecure \</span><br><span class="line">--user=mysql \</span><br><span class="line">--basedir=<span class="regexp">/usr/local</span><span class="regexp">/mysql \</span><br><span class="line">--datadir=/var</span><span class="regexp">/lib/mysql</span><span class="regexp">/data</span><br><span class="line"># --initialize 初始化mysql  会给root生成默认随机密码</span><br><span class="line"># --initialize-insecure 初始化mysql 但 不会给root生成随机密码</span><br><span class="line"># --user 指定mysql执行的用户</span><br><span class="line"># --basedir mysql的安装路径</span><br><span class="line"># --datadir 指定数据存储路径 这个路径必须是空文件夹 当然也要有读写权限</span></span><br></pre></td></tr></table></figure></p>
<p>启动mysql<br>1 查找 /etc/my.cnf 是否存在 不存在的话 拷贝一份<br><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">cp</span> /usr/local/mysql/support-<span class="keyword">files</span>/my-default.<span class="keyword">cnf</span> /etc/my.<span class="keyword">cnf</span></span><br></pre></td></tr></table></figure></p>
<p>2 修改配置文件<br><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[client]</span></span><br><span class="line"><span class="comment"># 配置客户端sock文件 不然 mysql命令报错</span></span><br><span class="line"><span class="comment"># ERROR 2002 (HY000): Can't connect to local MySQL server through socket '/tmp/mysql.sock' (2)</span></span><br><span class="line"><span class="attr">socket</span>=/var/lib/mysql/mysql.sock</span><br><span class="line"><span class="section">[mysqld]</span></span><br><span class="line"><span class="comment"># 数据库文件存储位置 这个一定要填写正确 且 有读写权限不然会报错 </span></span><br><span class="line"><span class="comment"># Starting MySQL........ ERROR! The server quit without updating PID file (/var/lib/mysql/develop.pid).</span></span><br><span class="line"><span class="attr">datadir</span>=/var/lib/mysql/data</span><br><span class="line"><span class="attr">socket</span>=/var/lib/mysql/mysql.sock</span><br><span class="line"><span class="comment"># mysql服务执行的用户</span></span><br><span class="line"><span class="attr">user</span>=mysql</span><br><span class="line"><span class="comment"># Disabling symbolic-links is recommended to prevent assorted security risks</span></span><br><span class="line"><span class="attr">symbolic-links</span>=<span class="number">0</span></span><br><span class="line"><span class="section"></span><br><span class="line">[mysqld_safe]</span></span><br><span class="line"><span class="attr">log-error</span>=/var/log/mysqld.log</span><br><span class="line"><span class="attr">pid-file</span>=/var/run/mysqld/mysqld.pid</span><br></pre></td></tr></table></figure></p>
<p>3 启动服务<br><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/<span class="built_in">local</span>/mysql/support-<span class="built_in">files</span>/mysql.serve <span class="built_in">start</span></span><br></pre></td></tr></table></figure></p>
<p>4 将mysql添加到系统服务 且 开机启动<br><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 拷贝文件</span></span><br><span class="line">cp /usr/<span class="built_in">local</span>/mysql/support-<span class="built_in">files</span>/mysql.serve /etc/init.d/mysqld</span><br><span class="line"><span class="comment"># 查看服务状态</span></span><br><span class="line">service mysqld status</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置为开机启动</span></span><br><span class="line">chkconfig <span class="comment">--add mysqld</span></span><br><span class="line">chkconfig mysqld <span class="keyword">on</span></span><br></pre></td></tr></table></figure></p>
<h4 id="4-4-redis"><a href="#4-4-redis" class="headerlink" title="4.4 redis"></a>4.4 redis</h4><p>下载并解压<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget http:<span class="comment">//download.redis.io/releases/redis-3.2.6.tar.gz</span></span><br><span class="line">tar -zxvf redis-<span class="number">3.2</span>.<span class="number">6</span><span class="selector-class">.tar</span><span class="selector-class">.gz</span></span><br></pre></td></tr></table></figure></p>
<p>编译安装<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> redis-3.2.6</span><br><span class="line">make PREFIX=/usr/<span class="built_in">local</span>/redis install</span><br></pre></td></tr></table></figure></p>
<p>启动服务<br><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># 拷贝配置文件</span></span><br><span class="line">cp redis.conf <span class="meta-keyword">/usr/</span>local<span class="meta-keyword">/redis/</span></span><br><span class="line"><span class="meta"># 修改配置文件 redis为后台进程</span></span><br><span class="line"><span class="meta"># 找到</span></span><br><span class="line">daemonize no</span><br><span class="line"><span class="meta"># 修改为</span></span><br><span class="line">daemonize yes</span><br><span class="line"><span class="meta"># 启动服务</span></span><br><span class="line"><span class="meta-keyword">/usr/</span>local<span class="meta-keyword">/redis/</span>bin/redis-server <span class="meta-keyword">/usr/</span>local<span class="meta-keyword">/redis/</span>redis.conf</span><br></pre></td></tr></table></figure></p>
<h4 id="4-5-mongodb"><a href="#4-5-mongodb" class="headerlink" title="4.5 mongodb"></a>4.5 mongodb</h4><p>下载解压<br><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">wget https://fastdl.mongodb<span class="meta">.org</span>/linux/mongodb-linux-x86_64<span class="number">-3.4</span><span class="number">.1</span>.tgz</span><br><span class="line">tar -zxvf mongodb-linux-x86_64<span class="number">-3.4</span><span class="number">.1</span>.tgz</span><br><span class="line"><span class="meta"># 由于下载的是二进制文件 可以直接使用</span></span><br><span class="line"><span class="keyword">cp</span> -r mongodb-linux-x86_64<span class="number">-3.4</span><span class="number">.1</span> /usr/local/mongodb</span><br></pre></td></tr></table></figure></p>
<p>启动服务<br><figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># --dbpath 指定文件存储的目录</span></span><br><span class="line">/usr/<span class="keyword">local</span>/mongodb/bin/mongod --dbpath</span><br><span class="line"><span class="meta"># 连接客户端</span></span><br><span class="line">/usr/<span class="keyword">local</span>/mongodb/bin/mongo</span><br><span class="line">&gt;<span class="keyword">show</span> dbs</span><br><span class="line">&gt;<span class="keyword">use</span> admin</span><br><span class="line">&gt;<span class="keyword">show</span> collections</span><br><span class="line">&gt;db.collection.find()</span><br></pre></td></tr></table></figure></p>
<h4 id="4-6-php"><a href="#4-6-php" class="headerlink" title="4.6 php"></a>4.6 php</h4><p>下载解压<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget http:<span class="comment">//cn2.php.net/distributions/php-7.0.9.tar.gz</span></span><br><span class="line">tar -zxvf php-<span class="number">7.0</span>.<span class="number">9</span><span class="selector-class">.tar</span><span class="selector-class">.gz</span></span><br></pre></td></tr></table></figure></p>
<p>安装依赖包<br><figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">yum -y install </span><br><span class="line">openssl openssl-devel <span class="string">\</span>		<span class="comment"># 支持 stl</span></span><br><span class="line">curl curl-devel <span class="string">\</span>			<span class="comment"># curl网络请求库</span></span><br><span class="line">libjpeg libjpeg-devel <span class="string">\</span>		<span class="comment"># jpeg图片</span></span><br><span class="line">libpng libpng-devel <span class="string">\</span>		<span class="comment"># png 图片</span></span><br><span class="line">freetype freetype-devel <span class="string">\</span>	<span class="comment"># freetype 字体</span></span><br><span class="line">libxml2 libxml2-devel <span class="string">\</span>		<span class="comment"># xml格式解析</span></span><br><span class="line">libxslt libxslt-devel <span class="string">\</span>		<span class="comment"># </span></span><br><span class="line">bzip2 bzip2-devel <span class="string">\</span>			<span class="comment"># bzip2 压缩库</span></span><br><span class="line">pcre pcre-devel <span class="string">\</span>			<span class="comment"># pcre正则库</span></span><br></pre></td></tr></table></figure></p>
<p>编译安装<br><a href="http://php.net/manual/zh/configure.about.php" target="_blank" rel="external">核心配置选项列表</a></p>
<figure class="highlight haml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">cd php-7.0.9</span><br><span class="line">./configure \</span><br><span class="line">-<span class="ruby">-prefix=<span class="regexp">/usr/local</span><span class="regexp">/php7 \</span><br><span class="line"></span></span>-<span class="ruby"><span class="regexp">-exec-prefix=/usr</span><span class="regexp">/local/php</span>7 \</span><br><span class="line"></span>-<span class="ruby">-bindir=<span class="regexp">/usr/local</span><span class="regexp">/php7/bin</span> \</span><br><span class="line"></span>-<span class="ruby">-sbindir=<span class="regexp">/usr/local</span><span class="regexp">/php7/sbin</span> \</span><br><span class="line"></span>-<span class="ruby">-includedir=<span class="regexp">/usr/local</span><span class="regexp">/php7/include</span> \</span><br><span class="line"></span>-<span class="ruby">-libdir=<span class="regexp">/usr/local</span><span class="regexp">/php7/lib</span><span class="regexp">/php \</span><br><span class="line"></span></span>-<span class="ruby"><span class="regexp">-mandir=/usr</span><span class="regexp">/local/php</span>7/php/man \</span><br><span class="line"></span>-<span class="ruby">-with-config-file-path=<span class="regexp">/usr/local</span><span class="regexp">/php7/etc</span> \</span><br><span class="line"></span>-<span class="ruby">-with-mysql-sock=<span class="regexp">/var/run</span><span class="regexp">/mysql/mysql</span>.sock \</span><br><span class="line"></span>-<span class="ruby">-with-mcrypt=<span class="regexp">/usr/include</span> \</span><br><span class="line"></span>-<span class="ruby">-with-mhash \</span><br><span class="line"></span>-<span class="ruby">-with-openssl \</span><br><span class="line"></span>-<span class="ruby">-with-mysqli=shared,mysqlnd \</span><br><span class="line"></span>-<span class="ruby">-with-pdo-mysql=shared,mysqlnd \</span><br><span class="line"></span>-<span class="ruby">-with-gd \</span><br><span class="line"></span>-<span class="ruby">-with-iconv \</span><br><span class="line"></span>-<span class="ruby">-with-zlib \</span><br><span class="line"></span>-<span class="ruby">-enable-zip \</span><br><span class="line"></span>-<span class="ruby">-enable-inline-optimization \</span><br><span class="line"></span>-<span class="ruby">-disable-debug \</span><br><span class="line"></span>-<span class="ruby">-disable-rpath \</span><br><span class="line"></span>-<span class="ruby">-enable-shared \</span><br><span class="line"></span>-<span class="ruby">-enable-xml \</span><br><span class="line"></span>-<span class="ruby">-enable-bcmath \</span><br><span class="line"></span>-<span class="ruby">-enable-shmop \</span><br><span class="line"></span>-<span class="ruby">-enable-sysvsem \</span><br><span class="line"></span>-<span class="ruby">-enable-mbregex \</span><br><span class="line"></span>-<span class="ruby">-enable-mbstring \</span><br><span class="line"></span>-<span class="ruby">-enable-ftp \</span><br><span class="line"></span>-<span class="ruby">-enable-gd-native-ttf \</span><br><span class="line"></span>-<span class="ruby">-enable-pcntl \</span><br><span class="line"></span>-<span class="ruby">-enable-sockets \</span><br><span class="line"></span>-<span class="ruby">-with-xmlrpc \</span><br><span class="line"></span>-<span class="ruby">-enable-soap \</span><br><span class="line"></span>-<span class="ruby">-without-pear \</span><br><span class="line"></span>-<span class="ruby">-with-gettext \</span><br><span class="line"></span>-<span class="ruby">-enable-session \</span><br><span class="line"></span>-<span class="ruby">-with-curl \</span><br><span class="line"></span>-<span class="ruby">-with-jpeg-dir \</span><br><span class="line"></span>-<span class="ruby">-with-freetype-dir \</span><br><span class="line"></span>-<span class="ruby">-enable-opcache \</span><br><span class="line"></span>-<span class="ruby">-enable-fpm \</span><br><span class="line"></span>-<span class="ruby">-with-fpm-user=nginx \</span><br><span class="line"></span>-<span class="ruby">-with-fpm-group=nginx \</span><br><span class="line"></span>-<span class="ruby">-without-gdbm \</span><br><span class="line"></span>-<span class="ruby">-enable-fileinfo</span><br><span class="line"></span></span><br><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure>
<p>配置相关的修改<br><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># 添加链接</span></span><br><span class="line">ln -s <span class="meta-keyword">/usr/</span>local<span class="meta-keyword">/php7/</span>bin/php <span class="meta-keyword">/usr/</span>local/bin</span><br><span class="line"><span class="meta"># php配置文件(从源代码中拷贝)</span></span><br><span class="line">cp php.ini-development <span class="meta-keyword">/usr/</span>local<span class="meta-keyword">/php7/</span>etc/php.ini</span><br><span class="line"><span class="meta"># php-fpm 配置文件</span></span><br><span class="line">cp <span class="meta-keyword">/usr/</span>local<span class="meta-keyword">/php7/</span>etc/php-fpm.conf.default <span class="meta-keyword">/usr/</span>local<span class="meta-keyword">/php7/</span>etc/php-fpm.conf</span><br><span class="line">cp <span class="meta-keyword">/usr/</span>local<span class="meta-keyword">/php7/</span>etc/php-fpm.d/www.conf.default <span class="meta-keyword">/usr/</span>local<span class="meta-keyword">/php7/</span>etc/php-fpm.d/www.conf</span><br><span class="line"><span class="meta"># 修改配置文件</span></span><br><span class="line">vi <span class="meta-keyword">/usr/</span>local<span class="meta-keyword">/php7/</span>etc/php-fpm.d/www.conf</span><br><span class="line">;listen = <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">9000</span></span><br><span class="line">listen = <span class="meta-keyword">/dev/</span>shm/php-fpm.sock</span><br><span class="line"><span class="meta"># 下面两个选项的注释一定要开启 不然nginx连接fpm的sock会报权限错误</span></span><br><span class="line">listen.owner = nginx</span><br><span class="line">listen.group = nginx</span><br><span class="line"></span><br><span class="line"><span class="meta"># 启动服务</span></span><br><span class="line"><span class="meta-keyword">/usr/</span>local<span class="meta-keyword">/php7/</span>sbin/php-fpm</span><br><span class="line"><span class="meta"># 查看是否开启成功</span></span><br><span class="line">ps -ef | grep php-fpm</span><br><span class="line"><span class="meta"># 这个时候查看生成的 php-fpm.sock 的创建者与所属组都是 nginx</span></span><br><span class="line">ll <span class="meta-keyword">/dev/</span>shm</span><br></pre></td></tr></table></figure></p>
<h4 id="4-7-php-ext"><a href="#4-7-php-ext" class="headerlink" title="4.7 php-ext"></a>4.7 php-ext</h4><p>php扩展安装<br><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># redis下载解压</span></span><br><span class="line">wget http:<span class="comment">//pecl.php.net/get/redis-3.1.0.tgz</span></span><br><span class="line">tar -zxvf redis<span class="number">-3.1</span><span class="number">.0</span>.tgz</span><br><span class="line"><span class="meta"># mongodb下载解压</span></span><br><span class="line">wget http:<span class="comment">//pecl.php.net/get/mongodb-1.2.2.tgz</span></span><br><span class="line">tar -zxvf mongodb<span class="number">-1.2</span><span class="number">.2</span>.tgz</span><br><span class="line"><span class="meta"># php提供的扩展安装工具</span></span><br><span class="line"><span class="meta"># 在扩展源码根目录下执行</span></span><br><span class="line"><span class="meta"># 生成configure文件</span></span><br><span class="line">/usr/local/php7/bin/phpize</span><br><span class="line">./configure --with-php-config=/usr/local/php7/bin/php-config</span><br><span class="line"><span class="meta"># 编译安装</span></span><br><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure></p>
<p>配置文件开启扩展<br><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">vi /usr/local/php7/etc/php.ini</span><br><span class="line"><span class="comment"># 添加如下选项</span></span><br><span class="line">extension=redis.so</span><br><span class="line">extension=mongodb.so</span><br><span class="line">extension=pdo_mysql.so</span><br><span class="line">zend_extension=opcache.so</span><br><span class="line"><span class="comment"># 查看扩展</span></span><br><span class="line">php -m</span><br></pre></td></tr></table></figure></p>
<p>composer 安装<br><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># 下载</span></span><br><span class="line">curl -sS https:<span class="comment">//getcomposer.org/installer | php</span></span><br><span class="line">mv composer.phar <span class="meta-keyword">/usr/</span>local<span class="meta-keyword">/bin/</span>composer</span><br><span class="line"><span class="meta"># 验证</span></span><br><span class="line">composer -v</span><br></pre></td></tr></table></figure></p>
<h2 id="5-常用工具安装"><a href="#5-常用工具安装" class="headerlink" title="5. 常用工具安装"></a>5. 常用工具安装</h2><h4 id="5-1-supervisor"><a href="#5-1-supervisor" class="headerlink" title="5.1 supervisor"></a>5.1 supervisor</h4><p>命令行执行脚本的守护进程<br><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># 安装</span></span><br><span class="line">yum -y install supervisor</span><br><span class="line"><span class="meta"># 查看是否安装成功</span></span><br><span class="line">service supervsord status</span><br></pre></td></tr></table></figure></p>
<p>配置文件说明<br><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/supervisord.conf</span><br><span class="line"><span class="meta"># 配置详解</span></span><br><span class="line">[program:任务名称]</span><br><span class="line"><span class="meta"># 守护执行的命令</span></span><br><span class="line">command=/root/test/shell/test</span><br><span class="line"><span class="meta"># 命令执行的用户 这里设置出错会导致权限问题</span></span><br><span class="line">user=root</span><br><span class="line"><span class="meta"># 是否自动启动</span></span><br><span class="line">autostart=<span class="literal">true</span></span><br><span class="line"><span class="meta"># 是否自动重启</span></span><br><span class="line">autorestart=<span class="literal">true</span></span><br><span class="line">startsecs=<span class="number">3</span></span><br><span class="line"><span class="meta"># 是否捕获错误</span></span><br><span class="line">redirect_stderr=<span class="literal">true</span></span><br><span class="line"><span class="meta"># 错误日志</span></span><br><span class="line">stdout_logfile=/root/test/shellsupervisor.log</span><br></pre></td></tr></table></figure></p>
<p>基本常用命令<br><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># 帮助</span></span><br><span class="line">supervisorctl help</span><br><span class="line"><span class="meta"># 查看状态</span></span><br><span class="line">supervisorctl status</span><br><span class="line"><span class="meta"># 修改配置文件需要重新加载</span></span><br><span class="line">supervisorctl reload</span><br><span class="line"><span class="meta"># 重启 启动 停止</span></span><br><span class="line">supervisorctl start/restart/stop</span><br></pre></td></tr></table></figure></p>
<p><a href="">参考连接</a></p>
<h4 id="5-2-nfs-utils"><a href="#5-2-nfs-utils" class="headerlink" title="5.2 nfs-utils"></a>5.2 nfs-utils</h4><p>网络磁盘共享 图片文件会用到<br><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装</span></span><br><span class="line">yum -y install nfs-utils</span><br><span class="line"><span class="comment"># 查看安装情况</span></span><br><span class="line">rpm -qa | grep nfs</span><br><span class="line"><span class="comment"># --- 看到这些包表示安装成功---</span></span><br><span class="line">nfs-utils-<span class="class"><span class="keyword">lib</span>-1.1.5-11.<span class="title">el6</span>.<span class="title">x86_64</span></span></span><br><span class="line">nfs-utils-<span class="number">1.2</span>.<span class="number">3</span>-<span class="number">70</span>.el6_8.<span class="number">2</span>.x86_64</span><br><span class="line"><span class="comment"># 服务端编辑权限</span></span><br><span class="line">vi /etc/exports</span><br><span class="line"><span class="comment"># /path client_ip (读写权限,访问角色,同步还是异步)</span></span><br><span class="line">/data/images <span class="number">192.168</span>.<span class="number">0</span>.* (rw,root_squash,async)</span><br><span class="line"><span class="comment"># 权限编辑后需要重新加载生效</span></span><br><span class="line">exportfs -rv</span><br><span class="line"><span class="comment"># 开启服务 (客户端 服务端同时需要开启服务)</span></span><br><span class="line"><span class="comment"># contos 5.x 版本使用的是portmap</span></span><br><span class="line"><span class="comment"># centos 6.x 版本使用的是rpcbind</span></span><br><span class="line">service rpcbind start</span><br><span class="line">service nfs start</span><br><span class="line"><span class="comment"># 客户端挂载硬盘</span></span><br><span class="line">mount -t nfs <span class="symbol">remote_ip:</span>/path /local/data</span><br></pre></td></tr></table></figure></p>
<h4 id="5-3-samba"><a href="#5-3-samba" class="headerlink" title="5.3 samba"></a>5.3 samba</h4><p>目录共享系统<br><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># 安装</span></span><br><span class="line">yum -y install samba</span><br><span class="line"><span class="meta"># 查看安装情况</span></span><br><span class="line">service smb status</span><br></pre></td></tr></table></figure></p>
<p>配置文件详解<br><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/samba/smb.conf</span><br><span class="line"><span class="comment"># 修改以下选项 否则每次访问需要登录</span></span><br><span class="line"><span class="comment">#security = user</span></span><br><span class="line"><span class="attr">security</span> = share</span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加一个共享目录</span></span><br><span class="line">[共享的名称]</span><br><span class="line"><span class="attr">comment=注释描述</span></span><br><span class="line"><span class="attr">path=/root/share</span> <span class="comment"># 共享的文件夹路径</span></span><br><span class="line"><span class="attr">browseable=yes</span> <span class="comment"># 是否有浏览权限</span></span><br><span class="line">guest <span class="attr">ok=yes</span> <span class="comment"># 访客是否可访问</span></span><br><span class="line"><span class="attr">public=yes</span>  <span class="comment"># 是否允许上传</span></span><br><span class="line"><span class="attr">writable=yes</span> <span class="comment"># 是否有可写权限</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 重启服务</span></span><br><span class="line">service smb restart</span><br></pre></td></tr></table></figure></p>
<h4 id="5-4-docker-io"><a href="#5-4-docker-io" class="headerlink" title="5.4 docker-io"></a>5.4 docker-io</h4><p>docker安装<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum -y <span class="keyword">install</span> docker-io</span><br><span class="line">service docker <span class="keyword">status</span></span><br></pre></td></tr></table></figure></p>
<p><a href="">docker常用命令</a></p>
<h4 id="5-5-git"><a href="#5-5-git" class="headerlink" title="5.5 git"></a>5.5 git</h4><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y <span class="keyword">install</span> git</span><br></pre></td></tr></table></figure>
<p><a href="">git命令详解</a></p>
<h2 id="6-vim-安装与配置"><a href="#6-vim-安装与配置" class="headerlink" title="6. vim 安装与配置"></a>6. vim 安装与配置</h2><h4 id="6-1-vim源码下载解压"><a href="#6-1-vim源码下载解压" class="headerlink" title="6.1 vim源码下载解压"></a>6.1 vim源码下载解压</h4><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget ftp:<span class="comment">//ftp.vim.org/pub/vim/unix/vim-7.4.tar.bz2</span></span><br><span class="line">tar -jxvf vim-<span class="number">7.4</span><span class="selector-class">.tar</span><span class="selector-class">.bz2</span></span><br></pre></td></tr></table></figure>
<h4 id="6-2-安装依赖包"><a href="#6-2-安装依赖包" class="headerlink" title="6.2 安装依赖包"></a>6.2 安装依赖包</h4><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">yum install -<span class="keyword">y</span> <span class="keyword">lua</span> <span class="keyword">lua</span>-devel <span class="keyword">python</span> <span class="keyword">python</span>-devel <span class="keyword">perl</span> <span class="keyword">perl</span>-devel <span class="keyword">perl</span>-ExtUtils-Embed <span class="keyword">ruby</span> <span class="keyword">ruby</span>-devel</span><br><span class="line"># 编译安装 <span class="keyword">lua</span>-jit</span><br><span class="line">wget http://luajit.org/download/LuaJIT-<span class="number">2.0</span>.<span class="number">4</span>.tar.gz</span><br><span class="line">tar zxf LuaJIT-<span class="number">2.0</span>.<span class="number">4</span>.tar.gz</span><br><span class="line"><span class="keyword">cd</span> LuaJIT-<span class="number">2.0</span>.<span class="number">4</span></span><br><span class="line"># 这里安装默认路径 不然编译<span class="keyword">vim</span>的时候找不到文件</span><br><span class="line"><span class="keyword">make</span></span><br><span class="line"><span class="keyword">make</span> install</span><br></pre></td></tr></table></figure>
<h4 id="6-3-vim源码-编译安装"><a href="#6-3-vim源码-编译安装" class="headerlink" title="6.3 vim源码 编译安装"></a>6.3 vim源码 编译安装</h4><figure class="highlight haml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">./configure \</span><br><span class="line">-<span class="ruby">-prefix=<span class="regexp">/usr/local</span><span class="regexp">/vim7.4 \</span><br><span class="line"></span></span>-<span class="ruby"><span class="regexp">-disable-selinux \</span><br><span class="line"></span></span>-<span class="ruby"><span class="regexp">-enable-luainterp=yes \</span><br><span class="line"></span></span>-<span class="ruby"><span class="regexp">-enable-perlinterp \</span><br><span class="line"></span></span>-<span class="ruby"><span class="regexp">-enable-rubyinterp \</span><br><span class="line"></span></span>-<span class="ruby"><span class="regexp">-enable-pythoninterp \</span><br><span class="line"></span></span>-<span class="ruby"><span class="regexp">-with-python-config-dir=/usr</span><span class="regexp">/lib64/python</span>2.<span class="number">6</span>/config \</span><br><span class="line"></span>-<span class="ruby">-enable-fail-<span class="keyword">if</span>-missing \</span><br><span class="line"></span>-<span class="ruby">-enable-cscope \</span><br><span class="line"></span>-<span class="ruby">-enable-gui=auto \</span><br><span class="line"></span>-<span class="ruby">-enable-gtk2-check \</span><br><span class="line"></span>-<span class="ruby">-enable-gnome-check \</span><br><span class="line"></span>-<span class="ruby">-with-features=huge \</span><br><span class="line"></span>-<span class="ruby">-with-luajit \</span><br><span class="line"></span>-<span class="ruby">-with-x </span><br><span class="line"></span></span><br><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure>
<p>使用 vim 以及错误解决</p>
<figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ln -s /usr/local/vim7.<span class="number">4</span>/bin/vim /usr/local/bin/</span><br><span class="line"><span class="comment"># 这个时候使用vim报错</span></span><br><span class="line"><span class="comment"># vim: error while loading shared libraries: libluajit-5.1.so.2: cannot open shared object file: No such file or directory</span></span><br><span class="line"><span class="comment"># 通过生成软连接 解决</span></span><br><span class="line">ln -s /usr/local/<span class="class"><span class="keyword">lib</span>/<span class="title">libluajit</span>-5.1.<span class="title">so</span>.2 /<span class="title">lib64</span>/</span></span><br><span class="line"><span class="comment"># 检查插件支持</span></span><br><span class="line">vim 命令行模式输入</span><br><span class="line">:version</span><br></pre></td></tr></table></figure>
<h4 id="6-4-插件-配置文件安装"><a href="#6-4-插件-配置文件安装" class="headerlink" title="6.4 插件 配置文件安装"></a>6.4 插件 配置文件安装</h4><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 拷贝 .vimrc 配置文件</span></span><br><span class="line"><span class="comment"># 创建目录</span></span><br><span class="line">mkdir -p ~<span class="regexp">/.vim/bundle</span></span><br><span class="line">mkdir -p ~<span class="regexp">/.vim/colors</span></span><br></pre></td></tr></table></figure>
<p>安装包管理器 Bundle<br><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 下载bundle</span></span><br><span class="line">git <span class="keyword">clone</span> <span class="title">https</span>://github.com/VundleVim/Vundle.vim.git ~/.vim/bundle/Vundle.vim</span><br><span class="line"><span class="comment"># 安装插件</span></span><br><span class="line">:BundleInstall</span><br></pre></td></tr></table></figure></p>
<p>安装插件 Command-T<br><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># Command-T 安装 找到下载的源码</span><br><span class="line"><span class="keyword">cd</span> ~/.<span class="keyword">vim</span>/bundle/<span class="keyword">command</span>-t/<span class="keyword">ruby</span>/<span class="keyword">command</span>-t</span><br><span class="line"><span class="keyword">ruby</span> extconf.rb</span><br><span class="line"><span class="keyword">make</span></span><br></pre></td></tr></table></figure></p>
<p>安装插件 Ctags<br><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">wget <span class="string">https:</span><span class="comment">//nchc.dl.sourceforge.net/project/ctags/ctags/5.8/ctags-5.8.tar.gz</span></span><br><span class="line">tar zxvf ctags<span class="number">-5.8</span>.tar.gz</span><br><span class="line">cd ctags<span class="number">-5.8</span></span><br><span class="line">.<span class="regexp">/configure --prefix=/</span>usr<span class="regexp">/local/</span>ctags</span><br><span class="line">make &amp;&amp; make install</span><br><span class="line"></span><br><span class="line">ln -s <span class="regexp">/usr/</span>local<span class="regexp">/ctags/</span>bin<span class="regexp">/ctags /</span>usr<span class="regexp">/local/</span>bin/ctags</span><br><span class="line">ctags --version</span><br></pre></td></tr></table></figure></p>
<h2 id="7-制作vagrant"><a href="#7-制作vagrant" class="headerlink" title="7. 制作vagrant"></a>7. 制作vagrant</h2><h4 id="7-1-添加sudo用户"><a href="#7-1-添加sudo用户" class="headerlink" title="7.1 添加sudo用户"></a>7.1 添加sudo用户</h4><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># 添加用户</span></span><br><span class="line">useradd vagrat</span><br><span class="line">passwd vagrant</span><br><span class="line">&gt;password: vagrant</span><br><span class="line"><span class="meta">#### 7.2  添加vagrant用户到sudoer</span></span><br><span class="line">visudo</span><br><span class="line"><span class="meta"># 增加行</span></span><br><span class="line">vagrant ALL=(ALL) NOPASSWD:ALL</span><br></pre></td></tr></table></figure>
<p>sudo 文件格式解释<br><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">user host=(run_as) command</span><br><span class="line"><span class="meta"># user 定义用户或者用户组 用户组以 % 开始 如 %vagrant</span></span><br><span class="line"><span class="meta"># host 主机名</span></span><br><span class="line"><span class="meta"># run_as 作为哪个用户执行 不写(run_as) 默认是 root</span></span><br><span class="line"><span class="meta"># command 可执行的命令 这个命令要写全路径 相对路径存在安全问题(用户可以创建同名脚本 以root用户执行脚本 脚本里的命令就可以按照root用户的权限执行了)</span></span><br><span class="line"><span class="meta"># command 前可以通过 NOPASSWD: 来修饰 表示sudo执行命令的时候不用密码</span></span><br><span class="line">%vagrant ALL=(root) NOPASSWD:/usr/sbin/useradd</span><br><span class="line"><span class="meta"># 上面命令定义 vagrant组的用户可以在所有主机以root身份执行 /usr/sbin/useradd 命令且不需要密码</span></span><br></pre></td></tr></table></figure></p>
<h4 id="7-3-创建vagrant登录授权key"><a href="#7-3-创建vagrant登录授权key" class="headerlink" title="7.3 创建vagrant登录授权key"></a>7.3 创建vagrant登录授权key</h4><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">su vagrant</span><br><span class="line">mkdir -<span class="selector-tag">p</span> /home/vagrant/<span class="selector-class">.ssh</span></span><br><span class="line">cd /home/vagrant/<span class="selector-class">.ssh</span></span><br><span class="line">wget https:<span class="comment">//raw.githubusercontent.com/mitchellh/vagrant/master/keys/vagrant.pub -O authorized_keys</span></span><br><span class="line">chmod <span class="number">600</span> /home/vagrant/.ssh/authorized_keys</span><br></pre></td></tr></table></figure>
<h4 id="7-4-vagrant-打包"><a href="#7-4-vagrant-打包" class="headerlink" title="7.4 vagrant 打包"></a>7.4 vagrant 打包</h4><p>打包虚拟机</p>
<figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># 查看虚拟机</span></span><br><span class="line">VBoxManage list vms</span><br><span class="line"><span class="meta"># vagrant 打包</span></span><br><span class="line">vagrant package --base VBoxName --output develop.box</span><br><span class="line"><span class="meta"># 设置vagrant存储位置 设置系统常量</span></span><br><span class="line">VAGRANT_HOME=/d/storage/vagrant</span><br></pre></td></tr></table></figure>
<p>使用 vagrant 包</p>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">vagrant <span class="keyword">box </span><span class="keyword">add </span>centos-dev develop.<span class="keyword">box</span><br><span class="line"></span>vagrant init centos-dev </span><br><span class="line"><span class="comment">#修改Vagrantfile</span></span><br><span class="line"><span class="comment"># 使用帐号密码登录</span></span><br><span class="line"><span class="built_in">config</span>.ssh.username=<span class="string">"vagrant"</span></span><br><span class="line"><span class="built_in">config</span>.ssh.password=<span class="string">"vagrant"</span></span><br><span class="line"><span class="comment"># 使用key登录</span></span><br><span class="line"><span class="built_in">config</span>.ssh.private_key_path=<span class="string">""</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 启动</span></span><br><span class="line">vagrant up</span><br></pre></td></tr></table></figure>
<p>另外在开发过程中我们常常会修改配置文件<br>这个时候可以将配置文件放在映射的目录<br>然后通过软连接(ln -s) 将文件映射到服务读取的配置文件</p>

            
                

            
        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
        <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2017/03/27/laravel-中间件的实现/"  data-tooltip="laravel 中间件的实现">
                
                    <i class="fa fa-angle-left"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">上一篇</span>
                </a>
            </li>
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2016/09/10/利用apidoc设计文档自动生成方案/" data-tooltip="利用apidoc设计文档自动生成方案">
                
                    <span class="hide-xs hide-sm text-small icon-mr">下一篇</span>
                    <i class="fa fa-angle-right"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions"  href="#btn-open-shareoptions">
                <i class="fa fa-share-alt"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=/2017/01/01/精-LNMP开发环境搭建/">
                <i class="fa fa-google-plus"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=/2017/01/01/精-LNMP开发环境搭建/">
                <i class="fa fa-facebook-official"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=/2017/01/01/精-LNMP开发环境搭建/">
                <i class="fa fa-twitter"></i>
            </a>
        </li>
        
            <li class="post-action">
                <a class="post-action-btn btn btn--default" href="#ds-thread">
                    <i class="fa fa-comment-o"></i>
                </a>
            </li>
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#">
            
                <i class="fa fa-list"></i>
            </a>
        </li>
    </ul>
</div>


        
            
                <div id="ds-thread" class="ds-thread" data-thread-key="2017/01/01/精-LNMP开发环境搭建/"
     data-title="[精]LNMP开发环境搭建" data-url="/2017/01/01/精-LNMP开发环境搭建/">
</div>

            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2018 fantiq. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="3">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2017/03/27/laravel-中间件的实现/"  data-tooltip="laravel 中间件的实现">
                
                    <i class="fa fa-angle-left"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">上一篇</span>
                </a>
            </li>
            <li class="post-action">
                
                    <a class="post-action-btn btn btn--default tooltip--top" href="/2016/09/10/利用apidoc设计文档自动生成方案/" data-tooltip="利用apidoc设计文档自动生成方案">
                
                    <span class="hide-xs hide-sm text-small icon-mr">下一篇</span>
                    <i class="fa fa-angle-right"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions"  href="#btn-open-shareoptions">
                <i class="fa fa-share-alt"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://plus.google.com/share?url=/2017/01/01/精-LNMP开发环境搭建/">
                <i class="fa fa-google-plus"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://www.facebook.com/sharer/sharer.php?u=/2017/01/01/精-LNMP开发环境搭建/">
                <i class="fa fa-facebook-official"></i>
            </a>
        </li>
        <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://twitter.com/intent/tweet?text=/2017/01/01/精-LNMP开发环境搭建/">
                <i class="fa fa-twitter"></i>
            </a>
        </li>
        
            <li class="post-action">
                <a class="post-action-btn btn btn--default" href="#ds-thread">
                    <i class="fa fa-comment-o"></i>
                </a>
            </li>
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#">
            
                <i class="fa fa-list"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                <div id="share-options-bar" class="share-options-bar" data-behavior="3">
    <ul class="share-options">
        <li class="share-option">
            <a class="share-option-btn" target="new" href="https://plus.google.com/share?url=/2017/01/01/精-LNMP开发环境搭建/">
                <i class="fa fa-google-plus"></i><span class="">分享到 Google+</span>
            </a>
        </li>
        <li class="share-option">
            <a class="share-option-btn" target="new" href="https://www.facebook.com/sharer/sharer.php?u=/2017/01/01/精-LNMP开发环境搭建/">
                <i class="fa fa-facebook-official"></i><span>分享到 Facebook</span>
            </a>
        </li>
        <li class="share-option">
            <a class="share-option-btn" target="new" href="https://twitter.com/intent/tweet?text=/2017/01/01/精-LNMP开发环境搭建/">
                <i class="fa fa-twitter"></i><span>分享到 Twitter</span>
            </a>
        </li>
    </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-remove"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/avatar.jpg"/>
        
            <h4 id="about-card-name">fantiq</h4>
        
            <h5 id="about-card-bio"><p> good at develop framework </p>
</h5>
        
        
            <h5 id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>developer</p>

            </h5>
        
        
            <h5 id="about-card-location">
                <i class="fa fa-map-marker"></i>
                <br/>
                China
            </h5>
        
    </div>
</div>

        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
    </body>
    <!--SCRIPTS-->
<script src="/assets/js/scrip-gfmrkxcl0qohe3cfdgxhzvc0yrceqta8i4iix0txvn8q4o2adlqd5n0jmkvt.min.js"></script>
<!--SCRIPTS END-->

    
        <script type="text/javascript">
            var duoshuoQuery = {short_name:'fantiq'};
            (function() {
                var ds = document.createElement('script');
                ds.type = 'text/javascript';ds.async = true;
                ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
                ds.charset = 'UTF-8';
                (document.getElementsByTagName('head')[0]
                || document.getElementsByTagName('body')[0]).appendChild(ds);
            })();
        </script>
    



</html>
